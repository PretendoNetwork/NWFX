"use strict";var __read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},__spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||((n=n||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},__values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},defaultTriggers=(window.onerror=function(e,t,r){return alert("Error occured on line "+r+": "+e),!1},Array.prototype.includes||(Array.prototype.includes=function(e){return!!~this.indexOf(e)}),{INPUT:"change",TEXTAREA:"change",SELECT:"change",FORM:"submit"}),validSwapAreas=["innerHTML","outerHTML","afterbegin","beforebegin","beforeend","afterend","delete","none"],validEvents=["click","load"];function hydrateHTMLEvents(e){var t,r,e=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],__read(e.querySelectorAll("[nwfx-get]:not([nwfx-hydrated])")),!1),__read(e.querySelectorAll("[nwfx-post]:not([nwfx-hydrated])")),!1),__read(e.querySelectorAll("[nwfx-put]:not([nwfx-hydrated])")),!1),__read(e.querySelectorAll("[nwfx-patch]:not([nwfx-hydrated])")),!1),__read(e.querySelectorAll("[nwfx-delete]:not([nwfx-hydrated])")),!1);try{for(var n=__values(e),a=n.next();!a.done;a=n.next()){var i=a.value,o="click";if(i.hasAttribute("nwfx-trigger")){var s=i.getAttribute("nwfx-trigger").split(" ");if(!validEvents.includes(s[0]))return;o=s[0]}else defaultTriggers[i.nodeName]&&(o=defaultTriggers[i.nodeName]);i.addEventListener(o,handleNWFXEvent),"load"===o&&i.dispatchEvent(new Event("load")),i.setAttribute("nwfx-hydrated","true")}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}function handleNWFXEvent(e){var t,r,n=e.target,a=n,i="innerHTML",o=[],s="click",l="",d="";if(n&&n instanceof HTMLElement&&!n.hasAttribute("nwfx-triggered")&&!n.classList.contains("nwfx-request")){if(n.hasAttribute("nwfx-get"))l="GET",d=n.getAttribute("nwfx-get");else if(n.hasAttribute("nwfx-post"))l="POST",d=n.getAttribute("nwfx-post");else if(n.hasAttribute("nwfx-put"))l="PUT",d=n.getAttribute("nwfx-put");else if(n.hasAttribute("nwfx-patch"))l="PATCH",d=n.getAttribute("nwfx-patch");else{if(!n.hasAttribute("nwfx-delete"))return;l="DELETE",d=n.getAttribute("nwfx-delete")}if(d){if(e.preventDefault(),n.hasAttribute("nwfx-target")&&(a=document.querySelector(n.getAttribute("nwfx-target"))),n.hasAttribute("nwfx-swap")&&(t=n.getAttribute("nwfx-swap"))&&t in validSwapAreas&&(i=t),n.hasAttribute("nwfx-trigger")){if(o=n.getAttribute("nwfx-trigger").split(" "),!validEvents.includes(o[0]))return;s=o[0]}else defaultTriggers[n.nodeName]&&(s=defaultTriggers[n.nodeName]);e.type===s&&(o.includes("once")&&n.setAttribute("nwfx-triggered","true"),n.classList.add("nwfx-request"),(r=new XMLHttpRequest).open(l,d,!0),r.onreadystatechange=function(){var e;r.readyState===XMLHttpRequest.DONE&&("delete"===i?n.remove():(200<=(e=r.status)&&e<400&&"none"!==i&&a&&a instanceof HTMLElement&&(e=(new DOMParser).parseFromString(r.responseText,"text/html"),"innerHTML"===i?(a.innerHTML=r.responseText,hydrateHTMLEvents(a)):"outerHTML"===i?(a.outerHTML=r.responseText,hydrateHTMLEvents(a.parentElement)):"afterbegin"===i?(a.insertAdjacentElement("afterbegin",e.documentElement),hydrateHTMLEvents(e)):"beforebegin"===i?(a.insertAdjacentElement("beforebegin",e.documentElement),hydrateHTMLEvents(e)):"beforeend"===i?(a.insertAdjacentElement("beforeend",e.documentElement),hydrateHTMLEvents(e)):"afterend"===i&&(a.insertAdjacentElement("afterend",e.documentElement),hydrateHTMLEvents(e))),n.classList.remove("nwfx-request")))},r.send())}}}hydrateHTMLEvents(document),document.head.insertAdjacentHTML("beforeend","<style>.nwfx-indicator{opacity:0;transition: opacity 200ms ease-in;}.nwfx-request .nwfx-indicator{opacity:1}.nwfx-request.indicator{opacity:1}</style>");